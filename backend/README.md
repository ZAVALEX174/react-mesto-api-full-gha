[![Tests](../../actions/workflows/tests-13-sprint.yml/badge.svg)](../../actions/workflows/tests-13-sprint.yml) [![Tests](../../actions/workflows/tests-14-sprint.yml/badge.svg)](../../actions/workflows/tests-14-sprint.yml)

# Проект Mesto фронтенд + бэкенд

## Инфраструктура проекта

Создал папку с проектом и инициализировал в ней package.json.

## Настроил editorconfig

## Настроил линтер

## Инициализировал git-репозиторий и создал файл .gitignore

## Создал первый JS-файл app.js

## Настроил хот релоуд

Для этого установил пакет nodemon. Приложение с хот релоудом должно запускаться командой:
npm run dev

## Настроил база данных, контроллеры и роуты для карточек и пользователей

## Подключитесь к Mongo

## Создал схемы и модели

В проекте две сущности: пользователь и карточки. Создайте схему и модель для каждого.
Поля схемы пользователя:
name — имя пользователя, строка от 2 до 30 символов, обязательное поле;
about — информация о пользователе, строка от 2 до 30 символов, обязательное поле;
avatar — ссылка на аватарку, строка, обязательное поле. В следующем спринте вы напишите собственное решение для валидации этого поля.
Поля схемы карточки:
name — имя карточки, строка от 2 до 30 символов, обязательное поле;
link — ссылка на картинку, строка, обязательно поле.
owner — ссылка на модель автора карточки, тип ObjectId, обязательное поле;
likes — список лайкнувших пост пользователей, массив ObjectId, по умолчанию — пустой массив (поле default);
createdAt — дата создания, тип Date, значение по умолчанию Date.now.

## Создал контроллеры и роуты для пользователей

## Создал тестового пользователя через Postman

## Реализовал временное решение авторизации

\_\_app.use((req, res, next) => {
req.user = {
\_id: '5d8b8592978f8bd833ca8133' // вставьте сюда \_id созданного в предыдущем пункте пользователя
};

next();
});\_\_

## Создал контроллеры и роуты для карточек

## Сделал обработку ошибок:

400 — переданы некорректные данные в методы создания карточки, пользователя, обновления аватара пользователя или профиля;
404 — карточка или пользователь не найден.
500 — ошибка по-умолчанию.

<a name='link'></a>

## Добавил email и password к схеме пользователя

## Доработайте контроллер createUser

## Создал контроллер login

## Создал роут для логина и регистрации

## Создал мидлвэр для авторизации

## Создал контроллер и роут для получения информации о пользователе

Реализуйте роут:
GET /users/me - возвращает информацию о текущем пользователе

## Защитил API авторизацией

## Удалите хардкод

app.use((req, res, next) => {
req.user = {
\_id: '5d8b8592978f8bd833ca8133'
};

next();
});

## Проконтролировал права

## Создал так, чтобы API не возвращал хеш пароля

const userSchema = new Schema({
// ...
password: {
type: String,
required: true,
select: false // необходимо добавить поле select
},
// ...
});

## Реализовал централизованную обработку ошибок

## Валидировал приходящие на сервер запросы

## Валидировал данные на уровне схемы

Начинается с http:// или https://.
www. — это необязательная группа.
Путь — последовательность из цифр, латинских букв и символов -.\_~:/?#[]@!$&'()\*+,;=, указанных после названия домена и доменной зоны. На конце пути может стоять решётка #.
Шаблон находит url таких форматов:
http://ya.ru
https://www.ya.ru
http://2-domains.ru
http://ya.ru/path/to/deep/
http://ya-ya-ya.ru

### Ссылка на адрес страницы: https://zavalex174.github.io/express-mesto-gha/

<a name='author'></a>

### Автор: Зуев Александр

## Директории

`/routes` — папка с файлами роутера  
`/controllers` — папка с файлами контроллеров пользователя и карточки  
`/models` — папка с файлами описания схем пользователя и карточки

Остальные директории вспомогательные, создаются при необходимости разработчиком

## Запуск проекта

`npm run start` — запускает сервер  
`npm run dev` — запускает сервер с hot-reload
